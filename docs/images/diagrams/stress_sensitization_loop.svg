<svg viewBox="0 0 900 920" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="ssTitle ssDesc">
    <title id="ssTitle">Stress â†’ reward-sensitization loop (upgraded)</title>
    <desc id="ssDesc">Polished vertical flow with a sweeping return loop and clear exit strategies visually emphasized.</desc>

    <defs>
        <linearGradient id="grad-stress" x1="0" x2="1">
            <stop offset="0" stop-color="#fef3c7"/>
            <stop offset="1" stop-color="#fefce8"/>
        </linearGradient>
        <linearGradient id="grad-loop" x1="0" x2="1">
            <stop offset="0" stop-color="#c9a961"/>
            <stop offset="1" stop-color="#d4b574"/>
        </linearGradient>
        <filter id="ds" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#000" flood-opacity="0.06"/>
        </filter>
        <marker id="m" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
            <path d="M0,0 L10,6 L0,12" fill="none" stroke="#475569" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </marker>
    </defs>

    <!-- Background card -->
    <rect x="20" y="20" width="860" height="880" rx="16" fill="#ffffff" stroke="#f1f5f9" />

    <!-- central flow column -->
    <g transform="translate(450,80)" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="15">
        <!-- nodes with subtle background -->
        <g filter="url(#ds)">
            <rect x="-160" y="0" width="320" height="70" rx="12" fill="#fff" stroke="#e6eef8" />
            <text x="0" y="44" text-anchor="middle" fill="#0f172a" font-weight="700">Stress / anxiety</text>
        </g>

        <g transform="translate(0,120)" filter="url(#ds)">
            <rect x="-160" y="0" width="320" height="70" rx="12" fill="#fff" stroke="#e6eef8" />
            <text x="0" y="44" text-anchor="middle" fill="#0f172a" font-weight="600">Attention on quick rewards</text>
        </g>

        <g transform="translate(0,240)" filter="url(#ds)">
            <rect x="-160" y="0" width="320" height="70" rx="12" fill="#fff" stroke="#e6eef8" />
            <text x="0" y="44" text-anchor="middle" fill="#0f172a" font-weight="600">Impulse / short-term reward-seeking</text>
        </g>

        <g transform="translate(0,360)" filter="url(#ds)">
            <rect x="-160" y="0" width="320" height="70" rx="12" fill="url(#grad-stress)" stroke="#f7e9bd" />
            <text x="0" y="36" text-anchor="middle" fill="#0f172a" font-weight="700">Brief relief</text>
            <text x="0" y="56" text-anchor="middle" fill="#475569" font-size="13">(dopamine spike)</text>
        </g>

        <g transform="translate(0,480)" filter="url(#ds)">
            <rect x="-160" y="0" width="320" height="70" rx="12" fill="#fff" stroke="#e6eef8" />
            <text x="0" y="44" text-anchor="middle" fill="#0f172a" font-weight="600">Baseline drops</text>
        </g>

        <g transform="translate(0,600)" filter="url(#ds)">
            <rect x="-160" y="0" width="320" height="70" rx="12" fill="#fff" stroke="#e6eef8" />
            <text x="0" y="44" text-anchor="middle" fill="#0f172a" font-weight="600">More stress / fatigue</text>
        </g>
    </g>

    <!-- connecting arrows (vertical) -->
    <g stroke="#475569" stroke-width="2" fill="none" marker-end="url(#m)">
        <path d="M450 120 V160" />
        <path d="M450 240 V280" />
        <path d="M450 360 V400" />
        <path d="M450 480 V520" />
        <path d="M450 600 V640" />
    </g>

    <!-- sweeping return loop -->
    <path d="M450 720 C 250 820 140 640 140 420 C 140 240 300 80 450 80" fill="none" stroke="url(#grad-loop)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#m)" opacity="0.95" />

    <!-- Exit strategy pills -->
    <g font-size="13" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
        <rect x="40" y="80" width="200" height="44" rx="22" fill="#fff" stroke="#e6eef8" filter="url(#ds)" />
        <text x="140" y="112" text-anchor="middle" fill="#0f172a">Exit: breathwork / pause</text>

        <rect x="660" y="220" width="220" height="44" rx="22" fill="#fff" stroke="#e6eef8" filter="url(#ds)" />
        <text x="770" y="252" text-anchor="middle" fill="#0f172a">Exit: exercise / social support</text>

        <rect x="40" y="420" width="200" height="44" rx="22" fill="#fff" stroke="#e6eef8" filter="url(#ds)" />
        <text x="140" y="452" text-anchor="middle" fill="#0f172a">Exit: plan / reflection</text>

        <!-- dashed connectors -->
        <path d="M200 100 C 260 120 320 140 380 160" stroke="#64748b" stroke-dasharray="6 4" stroke-width="1.6" fill="none" marker-end="url(#m)" />
        <path d="M520 240 C 560 260 600 300 660 300" stroke="#64748b" stroke-dasharray="6 4" stroke-width="1.6" fill="none" marker-end="url(#m)" />
        <path d="M200 440 C 260 460 320 480 380 500" stroke="#64748b" stroke-dasharray="6 4" stroke-width="1.6" fill="none" marker-end="url(#m)" />
    </g>

</svg>
