<svg viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="pingTitle pingDesc">
    <title id="pingTitle">Ping / Scroll loop (upgraded visual)</title>
    <desc id="pingDesc">A polished circular loop showing cue → craving → check → brief relief, with intervention badges and numbered steps.</desc>

    <defs>
        <!-- Gradients and shadow -->
        <linearGradient id="g-accent" x1="0" x2="1">
            <stop offset="0" stop-color="#c9a961"/>
            <stop offset="1" stop-color="#d4b574"/>
        </linearGradient>
        <filter id="drop" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="6" stdDeviation="10" flood-color="#000" flood-opacity="0.08"/>
        </filter>
        <!-- rounded arrow marker -->
        <marker id="arrow-round" markerWidth="14" markerHeight="14" refX="12" refY="7" orient="auto">
            <path d="M1,1 L12,7 L1,13" fill="none" stroke="#475569" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </marker>
        <marker id="arrow-accent-round" markerWidth="14" markerHeight="14" refX="12" refY="7" orient="auto">
            <path d="M1,1 L12,7 L1,13" fill="none" stroke="url(#g-accent)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
        </marker>
    </defs>

    <!-- Background card -->
    <rect x="20" y="20" width="860" height="480" rx="14" fill="#ffffff" stroke="#f1f5f9" />

    <!-- Circular loop path (subtle) -->
    <g transform="translate(450,260)">
        <path d="M -260 0 C -200 -120 -60 -180 40 -160 C 140 -140 200 -60 240 10 C 280 80 260 180 160 200 C 80 215 0 200 -40 160 C -80 120 -160 80 -220 40 C -260 10 -260 0 -260 0"
                    fill="none" stroke="#e6eef8" stroke-width="20" stroke-linecap="round" stroke-linejoin="round"/>

        <!-- Accent main stroke to imply direction -->
        <path d="M -240 10 C -180 -90 -60 -140 20 -120 C 100 -100 160 -50 200 10 C 240 70 220 150 140 170"
                    fill="none" stroke="url(#g-accent)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" marker-end="url(#arrow-accent-round)" filter="url(#drop)"/>
    </g>

    <!-- Nodes: evenly placed around the loop -->
    <g font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="15" fill="#0f172a">
        <!-- 1: External cue (bell icon) -->
        <g transform="translate(170,250)">
            <rect x="-110" y="-36" width="160" height="72" rx="12" fill="#ffffff" stroke="#e6eef8" filter="url(#drop)" />
            <text x="-30" y="-4" font-weight="600">1</text>
            <text x="10" y="-4" font-size="14">External cue</text>
            <text x="10" y="16" font-size="12" fill="#64748b">(notification / boredom)</text>
        </g>

        <!-- 2: Anticipation / Craving -->
        <g transform="translate(450,100)">
            <rect x="-110" y="-44" width="220" height="88" rx="14" fill="url(#g-accent)" stroke="rgba(0,0,0,0.02)" filter="url(#drop)" />
            <circle cx="-80" cy="0" r="18" fill="#fff" />
            <text x="-80" y="4" text-anchor="middle" font-weight="700">2</text>
            <text x="0" y="-4" fill="#fff" font-weight="700" font-size="15">Anticipation / Craving</text>
            <text x="0" y="14" fill="#fff" font-size="13">(dopamine spike)</text>
        </g>

        <!-- 3: Interrupt / Check -->
        <g transform="translate(730,250)">
            <rect x="-110" y="-36" width="160" height="72" rx="12" fill="#ffffff" stroke="#e6eef8" filter="url(#drop)" />
            <text x="-30" y="-4" font-weight="600">3</text>
            <text x="10" y="-4" font-size="14">Interrupt task</text>
            <text x="10" y="16" font-size="12" fill="#64748b">to check feed</text>
        </g>

        <!-- 4: Brief relief -->
        <g transform="translate(450,380)">
            <rect x="-110" y="-44" width="220" height="88" rx="12" fill="#ffffff" stroke="#e6eef8" filter="url(#drop)" />
            <circle cx="-80" cy="0" r="18" fill="#c9a961" />
            <text x="-80" y="4" text-anchor="middle" font-weight="700">4</text>
            <text x="0" y="-4" font-size="15">Brief relief</text>
            <text x="0" y="14" font-size="13" fill="#64748b">(variable reward)</text>
        </g>
    </g>

    <!-- Intervention pills -->
    <g font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="13">
        <rect x="50" y="50" width="160" height="36" rx="18" fill="#fff" stroke="#e6eef8" />
        <text x="130" y="74" fill="#0f172a" text-anchor="middle">Reduce cues</text>

        <rect x="680" y="420" width="160" height="36" rx="18" fill="#fff" stroke="#e6eef8" />
        <text x="760" y="444" fill="#0f172a" text-anchor="middle">Pause / breathe</text>

        <line x1="160" y1="90" x2="320" y2="110" stroke="#64748b" stroke-dasharray="6 4" stroke-width="1.6" marker-end="url(#arrow-round)" />
        <line x1="720" y1="420" x2="600" y2="360" stroke="#64748b" stroke-dasharray="6 4" stroke-width="1.6" marker-end="url(#arrow-round)" />
    </g>

</svg>
